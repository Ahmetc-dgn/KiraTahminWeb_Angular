<div class="prediction-container">
  <div class="prediction-card">
    <div class="header">
      <h1>ğŸ  Kira Tahmin UygulamasÄ±</h1>
      <p class="subtitle">AI destekli kira fiyat tahmini yapÄ±n</p>
    </div>
    
    <form [formGroup]="predictionForm" (ngSubmit)="onSubmit()" class="prediction-form">
      <div class="form-section">
        <h3 class="section-title">ğŸ“ Temel Bilgiler</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="squareFeet">
              <span class="icon">ğŸ“</span>
              Metrekare (mÂ²)
            </label>
            <input type="number" id="squareFeet" formControlName="squareFeet" placeholder="Ã–rn: 120" min="1">
            <div class="error-message" *ngIf="predictionForm.get('squareFeet')?.errors?.['required'] && predictionForm.get('squareFeet')?.touched">
              Metrekare alanÄ± zorunludur
            </div>
          </div>

          <div class="form-group">
            <label for="numBedrooms">
              <span class="icon">ğŸ›ï¸</span>
              Yatak OdasÄ± SayÄ±sÄ±
            </label>
            <input type="number" id="numBedrooms" formControlName="numBedrooms" placeholder="Ã–rn: 3" min="0">
            <div class="error-message" *ngIf="predictionForm.get('numBedrooms')?.errors?.['required'] && predictionForm.get('numBedrooms')?.touched">
              Yatak odasÄ± sayÄ±sÄ± zorunludur
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="numBathrooms">
              <span class="icon">ğŸš¿</span>
              Banyo SayÄ±sÄ±
            </label>
            <input type="number" id="numBathrooms" formControlName="numBathrooms" placeholder="Ã–rn: 2" min="0">
            <div class="error-message" *ngIf="predictionForm.get('numBathrooms')?.errors?.['required'] && predictionForm.get('numBathrooms')?.touched">
              Banyo sayÄ±sÄ± zorunludur
            </div>
          </div>

          <div class="form-group">
            <label for="floor">
              <span class="icon">ğŸ¢</span>
              Kat NumarasÄ±
            </label>
            <input type="number" id="floor" formControlName="floor" placeholder="Ã–rn: 3" min="0">
            <div class="error-message" *ngIf="predictionForm.get('floor')?.errors?.['required'] && predictionForm.get('floor')?.touched">
              Kat bilgisi zorunludur
            </div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3 class="section-title">ğŸ“ Konum ve Ã–zellikler</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="location">
              <span class="icon">ğŸ“</span>
              Konum Skoru (1-10)
            </label>
            <select id="location" formControlName="location" class="select-input">
              <option value="">Konum seÃ§in</option>
              <option value="1">1 - Ã‡ok DÃ¼ÅŸÃ¼k</option>
              <option value="2">2 - DÃ¼ÅŸÃ¼k</option>
              <option value="3">3 - Orta-DÃ¼ÅŸÃ¼k</option>
              <option value="4">4 - Orta</option>
              <option value="5">5 - Orta-Ä°yi</option>
              <option value="6">6 - Ä°yi</option>
              <option value="7">7 - Ã‡ok Ä°yi</option>
              <option value="8">8 - MÃ¼kemmel</option>
              <option value="9">9 - Ã‡ok MÃ¼kemmel</option>
              <option value="10">10 - Premium</option>
            </select>
            <div class="error-message" *ngIf="predictionForm.get('location')?.errors?.['required'] && predictionForm.get('location')?.touched">
              Konum zorunludur
            </div>
          </div>

          <div class="form-group">
            <label for="buildingType">
              <span class="icon">ğŸ—ï¸</span>
              Bina Tipi
            </label>
            <select id="buildingType" formControlName="buildingType" class="select-input">
              <option value="">Bina tipi seÃ§in</option>
              <option value="1">1 - MÃ¼stakil</option>
              <option value="2">2 - Villa</option>
              <option value="3">3 - Apartman</option>
              <option value="4">4 - Residans</option>
              <option value="5">5 - Site Ä°Ã§i</option>
            </select>
            <div class="error-message" *ngIf="predictionForm.get('buildingType')?.errors?.['required'] && predictionForm.get('buildingType')?.touched">
              Bina tipi zorunludur
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="ageOfHouse">
              <span class="icon">ğŸ“…</span>
              Ev YaÅŸÄ±
            </label>
            <input type="number" id="ageOfHouse" formControlName="ageOfHouse" placeholder="Ã–rn: 5" min="0">
            <div class="error-message" *ngIf="predictionForm.get('ageOfHouse')?.errors?.['required'] && predictionForm.get('ageOfHouse')?.touched">
              Ev yaÅŸÄ± zorunludur
            </div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h3 class="section-title">âœ¨ Ekstra Ã–zellikler</h3>
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="hasGarage">
            <span class="checkbox-custom"></span>
            <span class="checkbox-text">ğŸš— Garaj</span>
          </label>

          <label class="checkbox-label">
            <input type="checkbox" formControlName="hasGarden">
            <span class="checkbox-custom"></span>
            <span class="checkbox-text">ğŸŒ³ BahÃ§e</span>
          </label>
        </div>
      </div>

      <button type="submit" [disabled]="!predictionForm.valid || isLoading" class="submit-button">
        <span *ngIf="!isLoading">ğŸ’° Kira FiyatÄ± Tahmin Et</span>
        <span *ngIf="isLoading" class="loading">
          <span class="spinner"></span>
          Tahmin yapÄ±lÄ±yor...
        </span>
      </button>
    </form>

    <div class="result-container" *ngIf="predictionResult !== null || errorMessage">
      <div class="result-card success" *ngIf="predictionResult !== null">
        <div class="result-icon">âœ…</div>
        <h3>Tahmini Kira FiyatÄ±</h3>
        <p class="price">{{ predictionResult | number:'1.0-0' }} Bin TL</p>
        <p class="price-subtitle">AylÄ±k kira bedeli (Ä°stanbul piyasasÄ±)</p>
      </div>

      <div class="result-card error" *ngIf="errorMessage">
        <div class="result-icon">âŒ</div>
        <h3>Hata</h3>
        <p class="error-message">{{ errorMessage }}</p>
      </div>
    </div>
  </div>
</div> 